<view class="container" style="padding: 20rpx; background: #f5f5f5; min-height: 100vh;">
  <!-- 状态筛选栏 -->
  <scroll-view scroll-x class="tab-bar" style="white-space: nowrap; padding: 20rpx 0; background: #fff; border-radius: 16rpx; margin-bottom: 20rpx;">
    <view 
      wx:for="{{statusList}}" wx:key="item"
      data-status="{{item}}"
      bindtap="switchStatus"
      style="display: inline-block; padding: 16rpx 32rpx; border-radius: 40rpx; margin: 0 10rpx; font-size: 28rpx; {{currentStatus === item ? 'background: #1890ff; color: #fff' : 'background: #f2f3f5; color: #333'}}">
      {{item === 'all' ? '全部' : statusMap[item]}}
    </view>
  </scroll-view>

  <!-- 提现记录列表 -->
  <view wx:for="{{recordList}}" wx:key="_id" class="record-card" style="background: #fff; border-radius: 16rpx; padding: 30rpx; margin-bottom: 20rpx;">
    <view style="font-size: 32rpx; font-weight: bold; margin-bottom: 16rpx;">
      提现金额：{{item.amount}} 元
    </view>
    <view style="font-size: 26rpx; color: #666; margin-bottom: 8rpx;">
      团长openid：{{item.leaderOpenid}}
    </view>
    <!-- 新增：显示收款信息 -->
    <view style="font-size: 26rpx; color: #666; margin-bottom: 8rpx;">
      收款信息：{{item.payeeInfo}}
    </view>
    <view style="font-size: 26rpx; color: #666; margin-bottom: 8rpx;">
      申请时间：{{item.createTime && item.createTime.toLocaleString()}}
    </view>
    <view style="font-size: 26rpx; font-weight: bold; margin-bottom: 20rpx; color: {{item.status === 'pending' ? '#ff7d00' : (item.status === 'success' ? '#07c160' : '#ff4d4f')}}">
      状态：{{statusMap[item.status]}}
    </view>

    <!-- 审核中显示操作按钮 -->
    <view wx:if="{{item.status === 'pending'}}" style="display: flex; gap: 20rpx;">
      <button 
        bindtap="auditHandle" data-type="pass" 
        data-id="{{item._id}}" data-leaderopenid="{{item.leaderOpenid}}" data-amount="{{item.amount}}"
        style="flex: 1; background: #07c160; color: #fff; border-radius: 12rpx; font-size: 28rpx;">
        通过打款
      </button>
      <button 
        bindtap="auditHandle" data-type="fail"
        data-id="{{item._id}}" data-leaderopenid="{{item.leaderOpenid}}" data-amount="{{item.amount}}"
        style="flex: 1; background: #ff4d4f; color: #fff; border-radius: 12rpx; font-size: 28rpx;">
        驳回退款
      </button>
    </view>
  </view>

  <!-- 加载/空状态 -->
  <view wx:if="{{loading}}" style="text-align: center; padding: 40rpx; color: #999;">加载中...</view>
  <view wx:if="{{!loading && recordList.length === 0}}" style="text-align: center; padding: 60rpx; color: #999; font-size: 28rpx;">暂无提现记录</view>
</view>